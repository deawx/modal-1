!function(e,t){if("object"==typeof module&&"object"==typeof module.exports)module.exports=t(require("jquery"));else if("function"==typeof define&&define.amd)define(["jquery"],t);else{var i=e.modal,n=t(e.jQuery||e.$);n.noConflict=function(){return e.modal===n&&(e.modal=i),n},e.modal=n}}(this,function(u){var e=Object.prototype,t=Function.prototype,n=Object.getPrototypeOf,i=Array.isArray,o=e.toString,a=e.hasOwnProperty,d=t.toString;window.ready={ie:!!(window.ActiveXObject||"ActiveXObject"in window)&&((navigator.userAgent.toLowerCase().match(/msie\s(\d+)/)||[])[1]||"11"),isObject:function(e){return!!e&&"object"==typeof e},isPlainObject:function(e){if(!e||"[object Object]"!==o.call(e))return!1;var t=n(e);if(null===t)return!0;var i=a.call(t,"constructor")&&t.constructor;return"function"==typeof i&&d.call(i)===d.call(Object)},isArray:i||function(e){return"[object Array]"===o.call(e)},isFunction:function(e){return"[object Function]"===o.call(e)||"function"==typeof e},isBoolean:function(e){return!0===e||!1===e||"[object Boolean]"===o.call(e)},isNumber:function(e){return"[object Number]"===o.call(e)},isString:function(e){return"[object String]"===o.call(e)},noop:function(){},queue:{},uniqueue:{},index:0,options:{zIndex:1e4,backdrop:.5,clickBackdropToClose:!1,skin:"",title:"信息",content:"",fixed:!0,size:"auto",maxWidth:!1,maxHeight:!1,padding:"20px",offset:"auto",icon:!1,btnClose:1,btns:[],btnsAlign:"right",okText:"确定",ok:null,cancelText:"取消",cancel:null,time:0,dragger:".ui-modal-head",canDragOut:!1,animate:"bounceIn",closeAnimate:"bounceOut"}};var r=function(e){var t=this;t.index=++ready.index,t.options=u.extend(!0,{},ready.options,e),(e=t.options).zIndex=e.zIndex+t.index,ready.isNumber(e.backdrop)?e.backdrop=[e.backdrop,"#000"]:ready.isString(e.backdrop)&&(e.backdrop=[.5,e.backdrop]),ready.isString(e.size)&&(e.size="auto"===e.size?["",""]:[e.size,""]),!e.title&&e.btnClose&&(e.btnClose=2);var i=[];ready.isFunction(e.ok)&&i.push({text:e.okText,callback:e.ok}),ready.isFunction(e.cancel)&&i.push({text:e.cancelText,callback:e.cancel}),e.btns=e.btns?i.concat(e.btns):i,t.render()};r.prototype.render=function(){var e=this,t=e.index,i=e.options,n=u("body");0===u("#ui-modal-shade").length&&n.append('<div id="ui-modal-shade" class="ui-modal-shade"></div>');var o=e.template();i.backdrop&&n.append(o[0]),n.append(o[1]),e.backdrop=i.backdrop?u("#ui-modal-backdrop"+t):null,e.dom=u("#ui-modal"+t),e.size(),e.offset(),e.handle();var a=function(){0<i.time&&setTimeout(function(){e.close()},i.time)};if(ready.ie&&ready.ie<10||!i.animate)a();else{var d="ui-modal-animate ui-modal-animate-"+i.animate;e.dom.addClass(d).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){e.dom.removeClass(d),a()})}},r.prototype.template=function(){var e=this.index,t=this.options,i="";t.backdrop&&(i='<div id="ui-modal-backdrop'+e+'" class="ui-modal-backdrop" style="z-index: '+t.zIndex+"; opacity: "+t.backdrop[0]+"; background-color: "+t.backdrop[1]+';"></div>');var n="";if(n+='<div id="ui-modal'+e+'" class="ui-modal'+(t.skin?" "+t.skin:"")+'" style="z-index: '+t.zIndex+"; position: "+(t.fixed?"fixed":"absolute")+"; width: "+t.size[0]+"; height: "+t.size[1]+';">',t.title&&(ready.isString(t.title)?n+='<div class="ui-modal-head">'+t.title+"</div>":ready.isPlainObject(t.title)&&(n+='<div class="ui-modal-head" style="'+t.title.style+'">'+t.title.text+"</div>")),n+='<div class="ui-modal-body" style="padding: '+t.padding+';">',t.icon?(n+='<div class="ui-modal-content ui-modal-content-relative">',n+='<i class="ui-modal-icon ui-modal-icon-'+t.icon+'" />'):n+='<div class="ui-modal-content">',n+=t.content,n+="</div>",n+="</div>",t.btns&&0<t.btns.length){n+='<div class="ui-modal-foot" style="text-align: '+t.btnsAlign+';">';for(var o=0,a=t.btns.length;o<a;o++)n+='<b class="ui-modal-btn">'+t.btns[o].text+"</b>";n+="</div>"}return t.btnClose&&(n+='<b class="ui-modal-btn-close ui-modal-btn-close'+t.btnClose+'"></b>'),[i,n+="</div>"]},r.prototype.size=function(){var e=this,t=(e.index,e.options),n=e.dom;!t.size[0]&&0<t.maxWidth&&n.innerWidth()>t.maxWidth&&n.width(t.maxWidth);var o=n.innerHeight(),a=n.find(".ui-modal-head").outerHeight()||0,d=n.find(".ui-modal-foot").outerHeight()||0,i=function(){var e=n.find(".ui-modal-body"),t=parseFloat(e.css("padding-top")),i=parseFloat(e.css("padding-top"));e.height(o-a-d-t-i)};t.size[1]?i():0<t.maxHeight&&o>t.maxHeight&&(o=t.maxHeight,i())},r.prototype.offset=function(){var e=this.options,t=this.dom,i=u(window),n=t.outerWidth(),o=t.outerHeight(),a=(i.height()-o)/2,d=(i.width()-n)/2;ready.isArray(e.offset)?(a=e.offset[0]||a,d=e.offset[1]||d):"auto"!==e.offset&&("top"===e.offset?a=0:"bottom"===e.offset?a=i.height()-o:"left"===e.offset?d=0:"right"===e.offset?d=i.width()-n:"top left"===e.offset?d=a=0:"top right"===e.offset?(a=0,d=i.width()-n):"bottom left"===e.offset?(a=i.height()-o,d=0):"bottom right"===e.offset?(a=i.height()-o,d=i.width()-n):a=e.offset),e.fixed||(a=i.scrollTop()+parseFloat(a),d=i.scrollLeft()+parseFloat(d)),t.css({top:a,left:d})},r.prototype.handle=function(){var i=this,n=i.index,r=i.options,e=i.backdrop,s=i.dom,t=s.find(r.dragger),c=u(window),o=u(document),l={};ready.isFunction(r.success)&&r.success(n,s),c.on("resize",function(){i.offset()}),0<t.length&&(t.on("mousedown",function(e){l.dragging=!0,l.offset=[e.clientX-parseFloat(s.css("left")),e.clientY-parseFloat(s.css("top"))],u("#ui-modal-shade").show(),e.preventDefault()}),o.on("mousemove",function(e){if(l.dragging){var t=e.clientX-l.offset[0],i=e.clientY-l.offset[1];if(!r.canDragOut){var n=r.fixed?0:c.scrollLeft(),o=r.fixed?0:c.scrollTop(),a=c.width()-s.outerWidth()+n,d=c.height()-s.outerHeight()+o;t<n&&(t=n),a<t&&(t=a),i<o&&(i=o),d<i&&(i=d)}s.css({left:t,top:i}),e.preventDefault()}}),o.on("mouseup",function(e){l.dragging&&(delete l.dragging,delete l.offset,u("#ui-modal-shade").hide(),ready.isFunction(r.dragEnd)&&r.dragEnd(n,s))})),e&&r.clickBackdropToClose&&e.on("click",function(){!1===(ready.isFunction(r.cancel)?r.cancel(n,s):void 0)||i.close()}),r.btnClose&&s.on("click",".ui-modal-btn-close",function(){!1===(ready.isFunction(r.cancel)?r.cancel(n,s):void 0)||i.close()}),r.btns&&0<r.btns.length&&s.on("click",".ui-modal-btn",function(){var e=u(this).index(),t=r.btns[e].callback;!1===(ready.isFunction(t)?t(n,s):void 0)||i.close()})},r.prototype.close=function(){this.index;var e=this.options,t=this.backdrop,i=this.dom,n=function(){t&&t.remove(),i.remove(),ready.isFunction(e.destroy)&&e.destroy()};if(ready.ie&&ready.ie<10||!e.closeAnimate)n();else{var o="ui-modal-animate ui-modal-animate-"+e.closeAnimate;i.addClass(o).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){i.removeClass(o),n()})}};var s={open:function(e){var t=e.id;if(t&&ready.uniqueue[t])return ready.uniqueue[t].index;var i=new r(e),n=i.index;e=i.options;return ready.queue[n]=i,e.id&&(ready.uniqueue[e.id]=i),n},close:function(e){if(ready.queue[e]){var t=ready.stack[e],i=(e=t.index,t.options);t.close(),delete ready.queue[e],i.id&&delete ready.uniqueue[i.id]}},closeAll:function(e){for(var t in ready.queue){var i=ready.queue[t];e&&i.options.type!==e||i.close()}},alert:function(e,t){var i={type:"alert",skin:"ui-modal-alert",maxWidth:360,ok:ready.noop},n={};return ready.isString(e)?n.content=e:ready.isPlainObject(e)&&(n=e),ready.isFunction(t)&&(n.ok=t),this.open(u.extend(!0,{},i,n))},confirm:function(e,t,i){var n={type:"confirm",skin:"ui-modal-confirm",maxWidth:360,ok:ready.noop,cancel:ready.noop},o={};return ready.isString(e)?o.content=e:ready.isPlainObject(e)&&(o=e),ready.isFunction(t)&&(o.ok=t),ready.isFunction(i)&&(o.cancel=i),this.open(u.extend(!0,{},n,o))},prompt:function(e,n,i){var t={type:"prompt",skin:"ui-modal-prompt",ok:ready.noop,cancel:ready.noop},o={};return ready.isString(e)?o.title=e:ready.isPlainObject(e)&&(o=e),o.value?(o.content='<input type="text" class="ui-modal-input" value="'+o.value+'" />',delete o.value):o.content='<input type="text" class="ui-modal-input" />',o.ok=function(e,t){var i=t.find(".ui-modal-input").val();return!ready.isFunction(n)||n(i,e,t)},o.cancel=function(e,t){return!ready.isFunction(i)||i(null,e,t)},this.open(u.extend(!0,{},t,o))},msg:function(e,t){this.closeAll("msg");var i={backdrop:!1,type:"msg",skin:"ui-modal-msg",title:!1,maxWidth:360,padding:"15px 20px",btnClose:!1,time:3e3,destroy:ready.noop},n={};return ready.isString(e)?n.content=e:ready.isPlainObject(e)&&(n=e),ready.isFunction(t)&&(n.destroy=t),this.open(u.extend(!0,{},i,n))},loading:function(e){var t={};return ready.isString(e)?t.icon=e:ready.isPlainObject(e)&&(t=e),t.icon?(t.content='<i class="ui-modal-svg ui-modal-svg-'+t.icon+'" />',delete t.icon):t.content='<i class="ui-modal-svg ui-modal-svg-bars" />',this.open(u.extend(!0,{},{backdrop:!1,type:"loading",skin:"ui-modal-loading",title:!1,padding:0,btnClose:!1,animate:"fadeIn",closeAnimate:"fadeOut"},t))}};return s});